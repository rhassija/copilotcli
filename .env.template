# Copilot CLI Web UI - Environment Configuration Template
# 
# This file documents all environment variables used by the application.
# Copy this file to the locations below and fill in with your values:
#   - backend/.env.local
#   - frontend/.env.local (frontend uses getenv pattern, see frontend/.env.example)
#
# ============================================================================
# CRITICAL - Must Configure Before Running
# ============================================================================

# GitHub Personal Access Token (PAT)
# Required for GitHub authentication and API access
# Create at: https://github.com/settings/tokens
# Scopes needed: repo, user
GITHUB_TOKEN=your_github_personal_access_token_here

# ============================================================================
# Backend Configuration (backend/.env.local)
# ============================================================================

# Application Environment
# Options: development, production, staging
ENV=development
DEBUG=true
LOG_LEVEL=INFO

# Server Configuration
HOST=0.0.0.0
PORT=8001
RELOAD=true

# CORS Configuration
# Comma-separated list of allowed origins
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# Session Configuration
# For production: Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SESSION_SECRET_KEY=dev-secret-key-change-in-production
SESSION_EXPIRY_HOURS=24
SESSION_STORAGE_TYPE=memory

# GitHub API Configuration
GITHUB_API_BASE_URL=https://api.github.com
GITHUB_API_TIMEOUT=30
GITHUB_API_MAX_RETRIES=3

# WebSocket Configuration
WEBSOCKET_MESSAGE_QUEUE_SIZE=1000
WEBSOCKET_MESSAGE_HISTORY_MINUTES=10
WEBSOCKET_PING_INTERVAL=30
WEBSOCKET_PING_TIMEOUT=10

# Copilot CLI Configuration
COPILOT_CLI_PATH=./src/ui/app.py
COPILOT_CLI_TIMEOUT_SECONDS=300

# Rate Limiting
RATE_LIMIT_PER_MINUTE=60

# ============================================================================
# Frontend Configuration (frontend/.env.local)
# ============================================================================

# Backend API URL
# Local development: http://localhost:8001
# Production: https://api.example.com
NEXT_PUBLIC_API_URL=http://localhost:8001

# WebSocket URL
# Local development: ws://localhost:8001
# Production: wss://api.example.com
NEXT_PUBLIC_WS_URL=ws://localhost:8001

# Application Mode
# development: Shows debug info, slower builds
# production: Optimized, ready for deployment
NODE_ENV=development

# ============================================================================
# Docker Configuration
# ============================================================================

# Used in docker-compose.yml for environment variable substitution
# Backend container will receive these variables

# Replica of backend vars for Docker
DOCKER_BACKEND_PORT=8000
DOCKER_FRONTEND_PORT=3000

# ============================================================================
# Production-Only Configuration
# ============================================================================

# These should only be set in production environments

# HTTPS/SSL
# Set to 'true' to enable HTTPS
# Requires SSL_CERT_PATH and SSL_KEY_PATH
ENABLE_HTTPS=false
SSL_CERT_PATH=
SSL_KEY_PATH=

# Database (Phase 2+)
# When database integration is added
# DATABASE_URL=postgresql://user:password@localhost:5432/copilot_cli

# Analytics/Monitoring
# SENTRY_DSN=
# DATADOG_API_KEY=

# External Services
# SLACK_WEBHOOK_URL=
# EMAIL_SMTP_URL=

# ============================================================================
# Notes
# ============================================================================
#
# Variable Resolution Order:
#   1. .env.local (local overrides)
#   2. .env (version controlled defaults)
#   3. Environment variables
#   4. Hardcoded defaults in code
#
# Security Guidelines:
#   ✓ Never commit .env.local or .env files with real values
#   ✓ Add secrets to .gitignore (already configured)
#   ✓ Use environment variables from CI/CD for production
#   ✓ Rotate tokens regularly
#   ✓ Use strong SESSION_SECRET_KEY in production
#
# Development vs Production:
#   Development:  DEBUG=true, loose CORS, logs to console
#   Production:   DEBUG=false, strict CORS, logs to files, HTTPS only
#
